<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="utf-8">
    <title>Medición del índice UV en tiempo real</title>
    <link rel="icon" href="favicon.ico">
  </head>
  <body>

<img src="graficauv.png" style="margin: 0 auto; text-align: center; display: block" height="150" width="1340">
<br></p>

</html>

  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-41757885-3"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'UA-41757885-3');
  </script>
  <script type="text/javascript" src="https://pubnub.github.io/eon/v/eon/1.0.0/eon.js"></script>
  <link type="text/css" rel="stylesheet" href="https://pubnub.github.io/eon/v/eon/1.0.0/eon.css" />
  <div id="chart"></div>
  <script type="text/javascript">
  var __eon_pubnub = new PubNub({
    subscribeKey: "sub-c-5f339f0c-eb1b-11eb-a5b2-d6c76bc6f614"
  });
  var __eon_cols = ["uvindex"]; 
  var __eon_labels = {"uvindex":"UV Index"}; 
  chart = eon.chart({
    pubnub: __eon_pubnub,
    channels: ["uvindex"],// canal del indice uv en PubNub
    history: true,
    flow: false,
    rate: 2000,
    limit: 24, //Cantidad de registros de valores en la grafica
    generate: {
      bindto: "#chart",
      data: {
        colors: {"UV Index":"#ff0000","uvindex":"#1f77b4"},
        type: "area"
      },
      axis: {
        x: {
          label: "",
          tick: {
           format: '%H:%M-%d/%m/%y'
          }
        },
        y: {
          label: ""
        }
      },
      grid: {
        x: {
          show: true 
        },
        y: {
          show: true 
        }
      },
      tooltip: {
       show: true
      },
      point: {
        show: true
      }
    },
    transform: function(message) {
      var message = eon.c.flatten(message.eon);
      var o = {};
      for(index in message) {
        if(__eon_cols.indexOf(index) > -1){
          o[__eon_labels[index] || index] = message[index];
        }
      }
      return {
        eon: o
      };
    }
  });
  </script>
  <p><img style="display: block; margin-left: auto; margin-right: auto;" 
    src="https://www.researchgate.net/profile/Ismael-Rangel/publication/323845495/figure/fig1/AS:613985565040640@1523396974150/Escala-del-indice-de-radiacion-solar.png" 
    alt="indiceuv" width="600" height="336" /></p>
